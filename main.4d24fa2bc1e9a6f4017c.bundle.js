(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{406:function(module,exports,__webpack_require__){__webpack_require__(407),__webpack_require__(558),module.exports=__webpack_require__(559)},474:function(module,exports){},559:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(378);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(717)],module)}.call(this,__webpack_require__(560)(module))},717:function(module,exports,__webpack_require__){var map={"./AddItemForm/index.stories.tsx":786,"./CreateShoppingListForm/index.stories.tsx":787,"./ItemList/index.stories.tsx":788,"./ListSelector/index.stories.tsx":789,"./Login/index.stories.tsx":790};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=717},786:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Example",(function(){return index_stories_Example}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=__webpack_require__(249),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(379),slicedToArray=__webpack_require__(33),Segment=__webpack_require__(806),Form=__webpack_require__(802),Input=__webpack_require__(800),Button=__webpack_require__(792);function AddItemFormConstructor(shoppingListItemAdder){return function AddItemForm(_ref){var shoppingList=_ref.shoppingList,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),itemName=_useState2[0],setItemName=_useState2[1],addItem=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(event){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:event.preventDefault(),shoppingListItemAdder.addShoppingListItem({name:itemName,list:shoppingList}),setItemName("");case 3:case"end":return _context.stop()}}),_callee)})));return function addItem(_x){return _ref2.apply(this,arguments)}}();return react_default.a.createElement(Segment.a,null,react_default.a.createElement(Form.a,null,react_default.a.createElement(Form.a.Group,{inline:!0},react_default.a.createElement(Form.a.Field,null,react_default.a.createElement("label",null,"Item",react_default.a.createElement(Input.a,{type:"text",onChange:function onChange(event){setItemName(event.target.value)},value:itemName}))),react_default.a.createElement(Form.a.Field,null,react_default.a.createElement(Button.a,{onClick:addItem},"Add")))))}}var src_AddItemForm=AddItemFormConstructor;try{AddItemFormConstructor.displayName="AddItemFormConstructor",AddItemFormConstructor.__docgenInfo={description:"",displayName:"AddItemFormConstructor",props:{addShoppingListItem:{defaultValue:null,description:"",name:"addShoppingListItem",required:!0,type:{name:"(item: { name: string; list: ShoppingList; }) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AddItemForm/index.tsx#AddItemFormConstructor"]={docgenInfo:AddItemFormConstructor.__docgenInfo,name:"AddItemFormConstructor",path:"src/AddItemForm/index.tsx#AddItemFormConstructor"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__(38),index_stories_AddItemForm=src_AddItemForm({addShoppingListItem:Object(dist.action)("addShoppingListItem")}),index_stories_shoppingList=(__webpack_exports__.default={title:"AddItemForm",component:index_stories_AddItemForm},{id:"0800",name:"Butchers list",owner_uids:["meat-dr"]}),index_stories_Example=function Example(){return react_default.a.createElement(index_stories_AddItemForm,{shoppingList:index_stories_shoppingList})};index_stories_Example.__docgenInfo={description:"",methods:[],displayName:"Example"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AddItemForm/index.stories.tsx"]={name:"Example",docgenInfo:index_stories_Example.__docgenInfo,path:"src/AddItemForm/index.stories.tsx"})},787:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Example",(function(){return index_stories_Example}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(33),Form=__webpack_require__(802),Button=__webpack_require__(792);function CreateShoppingListFormConstructor(shoppingListAdder){return function CreateShoppingListForm(_ref){var loggedInUser=_ref.loggedInUser,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),name=_useState2[0],setName=_useState2[1];return react_default.a.createElement(Form.a,{onSubmit:function submitHandler(event){event.preventDefault(),shoppingListAdder.addShoppingList({name:name,owner_uids:[loggedInUser.uid]})}},react_default.a.createElement(Form.a.Field,null,react_default.a.createElement("label",null,"Name",react_default.a.createElement("input",{onChange:function nameChangeHandler(_ref2){var target=_ref2.target;setName(target.value)},value:name}))),react_default.a.createElement(Button.a,null,"Create"))}}var src_CreateShoppingListForm=CreateShoppingListFormConstructor;try{CreateShoppingListFormConstructor.displayName="CreateShoppingListFormConstructor",CreateShoppingListFormConstructor.__docgenInfo={description:"",displayName:"CreateShoppingListFormConstructor",props:{addShoppingList:{defaultValue:null,description:"",name:"addShoppingList",required:!0,type:{name:"(shoppingList: { name: string; owner_uids: string[]; }) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/CreateShoppingListForm/index.tsx#CreateShoppingListFormConstructor"]={docgenInfo:CreateShoppingListFormConstructor.__docgenInfo,name:"CreateShoppingListFormConstructor",path:"src/CreateShoppingListForm/index.tsx#CreateShoppingListFormConstructor"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__(38),index_stories_CreateShoppingListForm=src_CreateShoppingListForm({addShoppingList:Object(dist.action)("addShoppingList")}),index_stories_Example=(__webpack_exports__.default={title:"CreateShoppingListForm",component:index_stories_CreateShoppingListForm},function Example(){return react_default.a.createElement(index_stories_CreateShoppingListForm,{loggedInUser:{displayName:"Dmitri",uid:"dmitri"}})});index_stories_Example.__docgenInfo={description:"",methods:[],displayName:"Example"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/CreateShoppingListForm/index.stories.tsx"]={name:"Example",docgenInfo:index_stories_Example.__docgenInfo,path:"src/CreateShoppingListForm/index.stories.tsx"})},788:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithItems",(function(){return index_stories_WithItems})),__webpack_require__.d(__webpack_exports__,"WithoutItems",(function(){return index_stories_WithoutItems})),__webpack_require__.d(__webpack_exports__,"Loading",(function(){return index_stories_Loading}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(33),Segment=__webpack_require__(806),Dimmer=__webpack_require__(805),Loader=__webpack_require__(801),Header=__webpack_require__(807),Icon=__webpack_require__(94),Button=__webpack_require__(792);var src_ItemList=function ItemListConstructor(shoppingListItemFetcher,shoppingListItemDeleter){return function ItemList(_ref){var shoppingList=_ref.shoppingList,_useState=Object(react.useState)(!0),_useState2=Object(slicedToArray.a)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),fetchErrored=_useState4[0],setFetchError=_useState4[1],_useState5=Object(react.useState)([]),_useState6=Object(slicedToArray.a)(_useState5,2),shoppingListItems=_useState6[0],setShoppingListItems=_useState6[1];return Object(react.useEffect)((function(){return shoppingListItemFetcher.subscribeToItemChanges(shoppingList,(function(stuff){setIsLoading(!1),setShoppingListItems(stuff)}),(function(){setFetchError(!0)}))}),[shoppingList]),fetchErrored?react_default.a.createElement("p",null,"Error"):isLoading?react_default.a.createElement(Segment.a,{placeholder:!0},react_default.a.createElement(Dimmer.a,{active:!0,inverted:!0},react_default.a.createElement(Loader.a,{inverted:!0},"Loading ",shoppingList.name," items."))):0===shoppingListItems.length?react_default.a.createElement(Segment.a,{placeholder:!0},react_default.a.createElement(Header.a,{icon:!0},react_default.a.createElement(Icon.a,{name:"shopping basket"}),"No items in ",shoppingList.name,".")):react_default.a.createElement(react_default.a.Fragment,null,shoppingListItems.map((function(shoppingListItem){return react_default.a.createElement(Segment.a,{key:shoppingListItem.name,clearing:!0},shoppingListItem.name,react_default.a.createElement(Button.a,{floated:"right",size:"mini",onClick:function onClick(){return shoppingListItemDeleter.deleteItem(shoppingListItem)}},"Delete"))})))}},dist=__webpack_require__(38),ShoppingListItemDeleterSpy={deleteItem:Object(dist.action)("deleteItem")},index_stories_ItemList=src_ItemList({subscribeToItemChanges:function subscribeToItemChanges(list,onUpdate,onError){return onUpdate([{name:"Pickles",list:list,id:"pickles"},{name:"Cream soda",list:list,id:"cream-soda"}]),function(){}}},ShoppingListItemDeleterSpy),index_stories_shoppingList={id:"adrians-list",name:"Bits and Bobs",owner_uids:["adrian"]},index_stories_WithItems=(__webpack_exports__.default={title:"ItemList",component:index_stories_ItemList},function WithItems(){return react_default.a.createElement(Segment.a.Group,null,react_default.a.createElement(index_stories_ItemList,{shoppingList:index_stories_shoppingList}))}),ItemListWithoutItems=src_ItemList({subscribeToItemChanges:function subscribeToItemChanges(list,onUpdate,onError){return onUpdate([]),function(){}}},ShoppingListItemDeleterSpy),index_stories_WithoutItems=function WithoutItems(){return react_default.a.createElement(ItemListWithoutItems,{shoppingList:index_stories_shoppingList})},ItemListLoading=src_ItemList({subscribeToItemChanges:function subscribeToItemChanges(list,onUpdate,onError){return function(){}}},ShoppingListItemDeleterSpy),index_stories_Loading=function Loading(){return react_default.a.createElement(ItemListLoading,{shoppingList:index_stories_shoppingList})};index_stories_WithItems.__docgenInfo={description:"",methods:[],displayName:"WithItems"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ItemList/index.stories.tsx"]={name:"WithItems",docgenInfo:index_stories_WithItems.__docgenInfo,path:"src/ItemList/index.stories.tsx"}),index_stories_WithoutItems.__docgenInfo={description:"",methods:[],displayName:"WithoutItems"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ItemList/index.stories.tsx"]={name:"WithoutItems",docgenInfo:index_stories_WithoutItems.__docgenInfo,path:"src/ItemList/index.stories.tsx"}),index_stories_Loading.__docgenInfo={description:"",methods:[],displayName:"Loading"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ItemList/index.stories.tsx"]={name:"Loading",docgenInfo:index_stories_Loading.__docgenInfo,path:"src/ItemList/index.stories.tsx"})},789:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithItems",(function(){return index_stories_WithItems})),__webpack_require__.d(__webpack_exports__,"WithError",(function(){return index_stories_WithError})),__webpack_require__.d(__webpack_exports__,"Loading",(function(){return index_stories_Loading}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(38),slicedToArray=__webpack_require__(33),Dropdown=__webpack_require__(804);function ListSelectorConstructor(shoppingListFetcher){return function ListSelector(_ref){var onSelect=_ref.onSelect,loggedInUser=_ref.loggedInUser,_useState=Object(react.useState)(!0),_useState2=Object(slicedToArray.a)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),fetchErrored=_useState4[0],setFetchError=_useState4[1],_useState5=Object(react.useState)([]),_useState6=Object(slicedToArray.a)(_useState5,2),shoppingLists=_useState6[0],setShoppingLists=_useState6[1];if(Object(react.useEffect)((function(){return shoppingListFetcher.subscribeToListChanges(loggedInUser,(function(shoppingLists){setIsLoading(!1),setShoppingLists(shoppingLists)}),(function(){setFetchError(!0)}))}),[loggedInUser]),fetchErrored)return react_default.a.createElement("p",null,"Error");if(isLoading)return react_default.a.createElement("p",null,"loading");var options=shoppingLists.map((function(shoppingList){return{text:shoppingList.name,value:shoppingList.id}}));return react_default.a.createElement(Dropdown.a,{selection:!0,options:options,placeholder:"Switch shopping list",onChange:function onChangeHandler(_,_ref2){var value=_ref2.value,list=shoppingLists.find((function(sl){return sl.id===value}));list&&onSelect(list)}})}}var src_ListSelector=ListSelectorConstructor;try{ListSelectorConstructor.displayName="ListSelectorConstructor",ListSelectorConstructor.__docgenInfo={description:"",displayName:"ListSelectorConstructor",props:{subscribeToListChanges:{defaultValue:null,description:"",name:"subscribeToListChanges",required:!0,type:{name:"(loggedInUser: User, onUpdate: (lists: ShoppingList[]) => void, onError: () => void) => () => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ListSelector/index.tsx#ListSelectorConstructor"]={docgenInfo:ListSelectorConstructor.__docgenInfo,name:"ListSelectorConstructor",path:"src/ListSelector/index.tsx#ListSelectorConstructor"})}catch(__react_docgen_typescript_loader_error){}var index_stories_loggedInUser={uid:"rianne",displayName:"Rianne"},ListSelectorWithItems=src_ListSelector({subscribeToListChanges:function subscribeToListChanges(loggedInUser,onUpdate,onError){return onUpdate([{id:"101",name:"Christmas wish list",owner_uids:["you"]},{id:"102",name:"Weekly shop",owner_uids:["you"]}]),function(){}}}),index_stories_WithItems=function WithItems(){return react_default.a.createElement(ListSelectorWithItems,{onSelect:Object(dist.action)("onSelect"),loggedInUser:index_stories_loggedInUser})},ListSelectorWithError=src_ListSelector({subscribeToListChanges:function subscribeToListChanges(loggedInUser,onUpdate,onError){return onError(),function(){}}}),index_stories_WithError=function WithError(){return react_default.a.createElement(ListSelectorWithError,{onSelect:Object(dist.action)("onSelect"),loggedInUser:index_stories_loggedInUser})},ListSelectorLoading=src_ListSelector({subscribeToListChanges:function subscribeToListChanges(loggedInUser,onUpdate,onError){return function(){}}}),index_stories_Loading=function Loading(){return react_default.a.createElement(ListSelectorLoading,{onSelect:Object(dist.action)("onSelect"),loggedInUser:index_stories_loggedInUser})};__webpack_exports__.default={title:"ListSelector",component:ListSelectorWithItems};index_stories_WithItems.__docgenInfo={description:"",methods:[],displayName:"WithItems"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ListSelector/index.stories.tsx"]={name:"WithItems",docgenInfo:index_stories_WithItems.__docgenInfo,path:"src/ListSelector/index.stories.tsx"}),index_stories_WithError.__docgenInfo={description:"",methods:[],displayName:"WithError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ListSelector/index.stories.tsx"]={name:"WithError",docgenInfo:index_stories_WithError.__docgenInfo,path:"src/ListSelector/index.stories.tsx"}),index_stories_Loading.__docgenInfo={description:"",methods:[],displayName:"Loading"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ListSelector/index.stories.tsx"]={name:"Loading",docgenInfo:index_stories_Loading.__docgenInfo,path:"src/ListSelector/index.stories.tsx"})},790:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NotLoggedIn",(function(){return NotLoggedIn})),__webpack_require__.d(__webpack_exports__,"LoggedIn",(function(){return LoggedIn})),__webpack_require__.d(__webpack_exports__,"Loading",(function(){return Loading}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(38),slicedToArray=__webpack_require__(33),Loader=__webpack_require__(801),Button=__webpack_require__(792),Icon=__webpack_require__(94),LoggedInUserContext=react_default.a.createContext(void 0),Login_Login=function Login(_ref){var authenticator=_ref.authenticator,children=_ref.children,_useState=Object(react.useState)(void 0),_useState2=Object(slicedToArray.a)(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];return Object(react.useEffect)((function(){authenticator.onAuthStateChanged((function(currentUser){setCurrentUser(currentUser)}))}),[authenticator]),void 0===currentUser?react_default.a.createElement(Loader.a,{active:!0},"Loading"):currentUser?react_default.a.createElement(LoggedInUserContext.Provider,{value:currentUser},children):react_default.a.createElement(Button.a,{basic:!0,size:"large",onClick:function onClick(){authenticator.signInWithRedirect()}},react_default.a.createElement(Icon.a,{name:"google"}),"Sign in")};Login_Login.LoggedInUserContext=LoggedInUserContext,Login_Login.__docgenInfo={description:"",methods:[],displayName:"Login"};var src_Login=Login_Login;try{Login_Login.displayName="Login",Login_Login.__docgenInfo={description:"",displayName:"Login",props:{authenticator:{defaultValue:null,description:"",name:"authenticator",required:!0,type:{name:"{ onAuthStateChanged: (onUpdate: (currentUser: User) => void) => void; signInWithRedirect: () => void; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Login/index.tsx#Login"]={docgenInfo:Login_Login.__docgenInfo,name:"Login",path:"src/Login/index.tsx#Login"})}catch(__react_docgen_typescript_loader_error){}function createLoginStory(onAuthStateChanged){var authenticatorStub={onAuthStateChanged:onAuthStateChanged,signInWithRedirect:Object(dist.action)("signInWithRedirect")};return react_default.a.createElement(src_Login,{authenticator:authenticatorStub},react_default.a.createElement("p",null,"This child node only gets rendered if you're authenticated"))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Login/index.tsx"]={name:"Login",docgenInfo:Login_Login.__docgenInfo,path:"src/Login/index.tsx"});__webpack_exports__.default={title:"Login",component:src_Login};var NotLoggedIn=function NotLoggedIn(){return createLoginStory((function(onUpdate){onUpdate(null)}))},LoggedIn=function LoggedIn(){return createLoginStory((function(onUpdate){onUpdate({uid:"100",displayName:"Fun"})}))},Loading=function Loading(){return createLoginStory((function(onUpdate){}))};NotLoggedIn.__docgenInfo={description:"",methods:[],displayName:"NotLoggedIn"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Login/index.stories.tsx"]={name:"NotLoggedIn",docgenInfo:NotLoggedIn.__docgenInfo,path:"src/Login/index.stories.tsx"}),LoggedIn.__docgenInfo={description:"",methods:[],displayName:"LoggedIn"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Login/index.stories.tsx"]={name:"LoggedIn",docgenInfo:LoggedIn.__docgenInfo,path:"src/Login/index.stories.tsx"}),Loading.__docgenInfo={description:"",methods:[],displayName:"Loading"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Login/index.stories.tsx"]={name:"Loading",docgenInfo:Loading.__docgenInfo,path:"src/Login/index.stories.tsx"})}},[[406,1,2]]]);
//# sourceMappingURL=main.4d24fa2bc1e9a6f4017c.bundle.js.map